import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as t}from"./index.CVf8TyFT.js";import{M as L,u as R,P as S,a as $,b as I,L as K,m as O}from"./proxy.DNtStzSj.js";class T extends t.Component{getSnapshotBeforeUpdate(r){const s=this.props.childRef.current;if(s&&r.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function A({children:i,isPresent:r}){const s=t.useId(),n=t.useRef(null),f=t.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=t.useContext(L);return t.useInsertionEffect(()=>{const{width:h,height:a,top:x,left:o}=f.current;if(r||!n.current||!h||!a)return;n.current.dataset.motionPopId=s;const c=document.createElement("style");return u&&(c.nonce=u),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${a}px !important;
            top: ${x}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[r]),e.jsx(T,{isPresent:r,childRef:n,sizeRef:f,children:t.cloneElement(i,{ref:n})})}const D=({children:i,initial:r,isPresent:s,onExitComplete:n,custom:f,presenceAffectsLayout:u,mode:h})=>{const a=R(J),x=t.useId(),o=t.useCallback(m=>{a.set(m,!0);for(const g of a.values())if(!g)return;n&&n()},[a,n]),c=t.useMemo(()=>({id:x,initial:r,isPresent:s,custom:f,onExitComplete:o,register:m=>(a.set(m,!1),()=>a.delete(m))}),u?[Math.random(),o]:[s,o]);return t.useMemo(()=>{a.forEach((m,g)=>a.set(g,!1))},[s]),t.useEffect(()=>{!s&&!a.size&&n&&n()},[s]),h==="popLayout"&&(i=e.jsx(A,{isPresent:s,children:i})),e.jsx(S.Provider,{value:c,children:i})};function J(){return new Map}const C=i=>i.key||"";function E(i){const r=[];return t.Children.forEach(i,s=>{t.isValidElement(s)&&r.push(s)}),r}const U=({children:i,custom:r,initial:s=!0,onExitComplete:n,presenceAffectsLayout:f=!0,mode:u="sync",propagate:h=!1})=>{const[a,x]=$(h),o=t.useMemo(()=>E(i),[i]),c=h&&!a?[]:o.map(C),m=t.useRef(!0),g=t.useRef(o),v=R(()=>new Map),[M,P]=t.useState(o),[p,N]=t.useState(o);I(()=>{m.current=!1,g.current=o;for(let d=0;d<p.length;d++){const l=C(p[d]);c.includes(l)?v.delete(l):v.get(l)!==!0&&v.set(l,!1)}},[p,c.length,c.join("-")]);const b=[];if(o!==M){let d=[...o];for(let l=0;l<p.length;l++){const y=p[l],w=C(y);c.includes(w)||(d.splice(l,0,y),b.push(y))}u==="wait"&&b.length&&(d=b),N(E(d)),P(o);return}const{forceRender:j}=t.useContext(K);return e.jsx(e.Fragment,{children:p.map(d=>{const l=C(d),y=h&&!a?!1:o===p||c.includes(l),w=()=>{if(v.has(l))v.set(l,!0);else return;let k=!0;v.forEach(z=>{z||(k=!1)}),k&&(j?.(),N(g.current),h&&x?.(),n&&n())};return e.jsx(D,{isPresent:y,initial:!m.current||s?void 0:!1,custom:y?void 0:r,presenceAffectsLayout:f,mode:u,onExitComplete:y?void 0:w,children:d},l)})})};function H(){const[i,r]=t.useState(!1),[s,n]=t.useState(!1);return t.useEffect(()=>{const f=()=>{n(window.scrollY>10)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),e.jsxs("nav",{className:`fixed w-full z-50 transition-all duration-300 ${s?"bg-white shadow-md":"bg-white/90 backdrop-blur-sm shadow-sm"}`,children:[e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[e.jsx("i",{className:"fa-solid fa-book-open text-primary text-2xl"}),e.jsxs("span",{className:"font-serif font-bold text-xl text-primary tracking-wider",children:["JACK ",e.jsx("span",{className:"text-sm font-sans font-normal text-gray-500",children:"書局業務"})]})]}),e.jsxs("div",{className:"hidden md:flex space-x-8 items-center",children:[e.jsx("a",{href:"#about",className:"text-gray-600 hover:text-primary transition font-medium",children:"關於我"}),e.jsx("a",{href:"#services",className:"text-gray-600 hover:text-primary transition font-medium",children:"服務項目"}),e.jsx("a",{href:"#recommendations",className:"text-gray-600 hover:text-primary transition font-medium",children:"本月推薦"}),e.jsxs("a",{href:"#contact",className:"bg-primary text-white px-5 py-2 rounded-full hover:bg-opacity-90 transition shadow-md flex items-center gap-2",children:[e.jsx("i",{className:"fa-brands fa-line"})," 聯絡 Jack"]})]}),e.jsx("div",{className:"md:hidden flex items-center",children:e.jsx("button",{onClick:()=>r(!i),className:"text-gray-600 hover:text-primary focus:outline-none",children:e.jsx("i",{className:`fa-solid ${i?"fa-times":"fa-bars"} text-2xl`})})})]})}),e.jsx(U,{children:i&&e.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden bg-white border-t border-gray-100 shadow-lg overflow-hidden",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[e.jsx("a",{href:"#about",onClick:()=>r(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50",children:"關於我"}),e.jsx("a",{href:"#services",onClick:()=>r(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50",children:"服務項目"}),e.jsx("a",{href:"#recommendations",onClick:()=>r(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50",children:"本月推薦"}),e.jsx("a",{href:"#contact",onClick:()=>r(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-accent hover:bg-gray-50",children:"聯絡我"})]})})})]})}export{H as default};
